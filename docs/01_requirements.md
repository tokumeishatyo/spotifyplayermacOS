<!-- rule.mdを読むこと -->
# 要件定義書

## 1. アプリ概要
Spotify公式プレイヤーの機能を厳選し、特にプレイリスト管理（追加・削除・並び替え）の操作性を向上させたmacOSネイティブアプリケーション。
ターゲットはSpotify Premiumユーザーとする。

## 2. 機能要件

### 2.1 ユーザー認証
- SpotifyアカウントによるOAuth 2.0認証
- Premium会員ステータスの確認（Premium以外は利用不可とする制御）

### 2.2 再生コントロール
- 再生 / 一時停止
- 前の曲に戻る / 次の曲に進む
- リピート設定（トラック / コンテキスト / オフ）
- シャッフル設定（オン / オフ）

### 2.3 音質設定
- ユーザーによる音質選択機能
  - ※具体的な実現方法（Web APIまたはSDKの仕様）については基本設計フェーズで詳細を詰める。

### 2.4 プレイリスト管理（コア機能）
純正アプリよりも直感的かつ効率的な操作を目指す。
- **表示**: ユーザーのプレイリスト一覧表示、プレイリスト内の楽曲一覧表示
- **編集**:
  - 楽曲の順序並び替え（ドラッグ＆ドロップ等の直感的操作）
  - 楽曲の削除
  - 楽曲の追加

### 2.5 楽曲検索
- アーティスト、アルバム、楽曲名でのキーワード検索
- **「その時の気分」での検索**: Web APIの仕様制約が大きく、安定した機能提供が困難なため、**実装せず**。

### 2.6 ログイン状態の維持 (将来タスク)
- アプリ再起動時に再度ログインを求められないよう、Keychainを使用してリフレッシュトークンを安全に保存・復元する機能を実装予定。

## 3. 非機能要件
- **プラットフォーム**: macOS
- **言語**: Swift
- **UIフレームワーク**: SwiftUI
- **アーキテクチャ**: MVVM
